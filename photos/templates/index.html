{%extends 'base.html/'%}
{% load bootstrap3 %} 

{%block content%}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="/static/css/style.css">
<link href="https://fonts.googleapis.com/css?family=Gentium+Basic" rel="stylesheet">
<style>
.fa {
  font-size: 20px;
  cursor: pointer;
  user-select: none;
}

.fa:hover {
  color: darkblue;
}
body{
    background-image: url('/static/images/gram1.png');
  
    background-size: 100%;
}
* {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: Arial;
}

.header {
  text-align: center;
  padding: 32px;
}

.row {
  display: flex;
  flex-wrap: wrap;
  padding: 0 4px;
}

/* Create four equal columns that sits next to each other */
.column {
  flex: 25%;
  max-width: 25%;
  padding: 0 4px;
}

.column img {
  margin-top: 8px;
  vertical-align: middle;
}

/* Responsive layout - makes a two column-layout instead of four columns */
@media screen and (max-width: 800px) {
  .column {
    flex: 50%;
    max-width: 50%;
  }
}

/* Responsive layout - makes the two columns stack on top of each other instead of next to each other */
@media screen and (max-width: 600px) {
  .column {
    flex: 100%;
    max-width: 100%;
  }
}
</style>
<body>
{% for image in images%}
<div class="col-xs-12 col-sm-12 ">
<div class=" card col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6" style="margin-top:100px;width:50%; margin-left: 25%; ">

    <div class="panel-heading " style="width:100%;height:100px;">
    {%if image.poster.profile.profile_image%}
        <h3 class=""> <img src="{{image.poster.profile.profile_image.url}}" style="width:70px;height:70px; border-radius: 50%;" alt="image"></h3>
      {%else %}
      <h3 class=""> <img src="/static/images/avatar.png" style="width:70px;height:70px; border-radius: 50%;" alt="image"></h3>
      {%endif%}
      <h3 class="text-center"> </h3>
    </div>
    <div class="panel-body">
        <a href="{% url 'myPhoto' image.id%}"> <img src="{{image.image_url.url}}" class="img-responsive"   alt="Image" style="width:350px; height:350px;margin:auto; margin-left: auto;margin-right:auto;"></a> <br>
        <ul class="list-inline home-text">
            
            <li class="list-inline-item">
               
                <form action="{%url 'like_image'%}" method="POST">
                    {% csrf_token%}
                    {%if is_liked%}
                    <button type="submit" name="image_id" value="{{image.id}}" class="btn btn-danger"> <i onclick="myFunction(this)" class="fa fa-heart-o fa-2x"></i>disLike </button> <h3</h3> 
                    
                    {%else%}
                    <button type="submit" name="image_id" value="{{image.id}}" class="button"> <i onclick="myFunction(this)" class="fa fa-heart-o fa-2x"></i>Like </button> <h3></h3>
                    {%endif%}
                  </form>
            </li>
            <li class="list-inline-item">
                {{image.likes.count}}
             </li>
            <li class="list-inline-item">
                <a  href="{% url 'myPhoto' image.id%}"><i class="fa fa-comment-o fa-2x" aria-hidden="true"></i></a> {{ image.comments.count }}
            </li>
        </ul>
        <h5 style="font-family: 'Gentium Basic', serif;"><b><a href="{%url 'user_profile' username=image.poster.username %}" >{{image.poster|upper}} :</a></b> {{image.caption}} </h5>
       
    </div>
    {% for comment in image.comments.all %}
    <ul class="list-inline home-text">
            <li class="list-inline-item">
    <div class="comment" style=" margin: 20px 0px 20px 20px;">
        <div class="date"></div>
         <h5 style="font-family: 'Gentium Basic', serif;"> <a href="{%url 'user_profile' username=comment.author.username %}" > <strong>{{ comment.author|upper }} :</strong></a> {{ comment.text}}</h5>
        <p style="font-size:12px;"> {{ comment.created_date|timesince}} AGO </p>
    </div>
{% empty %}
    <p>No comments here yet </p>
{% endfor %}
</li>
</ul>
<p style="font-size:15px;color:grey; margin-top:10px ;padding-left:10px;">{{image.date|timesince|upper}} AGO</p>
   </div>
   </div>
{%endfor%}
<script>
    function myFunction(x) {
      x.classList.toggle("fa-thumbs-down");
    }
    </script>
    </body>
{%endblock%}  







